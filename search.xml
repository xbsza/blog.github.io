<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>01_DNS服务</title>
      <link href="/2021/10/27/Linux-DNS%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/"/>
      <url>/2021/10/27/Linux-DNS%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<p>作者：江小白<br>时间：2021-10-27 10:33:00</p><hr><span id="more"></span><h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>&emsp;&emsp;<strong>域名系统</strong>(Domain Name System,DNS)是Internet上解决网上机器命名的一种系统。就像拜访朋友要先知道别人家怎么走一样，Internet上当一台主机要访问另外一台主机时，必须首先获知其地址，TCP/IP中的IP地址是由四段以“.”分开的数字组成(此处以IPv4的地址为例，IPv6的地址同理)，记起来总是不如名字那么方便。所以，就采用了域名系统来管理名字和IP的对应关系。</p><hr><h1 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h1><p>实验环境：Centos 7 64位<br>镜像：<a href="http://mirrors.aliyun.com/centos/7/isos/x86_64/">ISO镜像下载地址</a><br>实验需求：通过了解DNS原理以及配置方法，安装DNS服务实现正反向解析得到域名或者对应的IP地址。</p><hr><h1 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h1><h3 id="配置IP地址-与虚拟网卡的地址同一网段"><a href="#配置IP地址-与虚拟网卡的地址同一网段" class="headerlink" title="配置IP地址 与虚拟网卡的地址同一网段"></a>配置IP地址 与虚拟网卡的地址同一网段</h3><p><img src="/2021/10/27/Linux-DNS%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/01.jpg" alt="虚拟网卡信息"></p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[root@localhost ~]</span><span class="comment"># vim /etc/sysconfig/network-scripts/ifcfg-ens33</span></span><br><span class="line"></span><br><span class="line"><span class="attr">TYPE</span>=Ethernet</span><br><span class="line"><span class="attr">PROXY_METHOD</span>=none</span><br><span class="line"><span class="attr">BROWSER_ONLY</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">BOOTPROTO</span>=static  // 将 dhcp 改为 static </span><br><span class="line"><span class="attr">DEFROUTE</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attr">IPV4_FAILURE_FATAL</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">NAME</span>=ens33</span><br><span class="line"><span class="attr">UUID</span>=<span class="number">44701</span>fc8-d3a9-<span class="number">4720</span>-be1e-e8f0b8226bf5</span><br><span class="line"><span class="attr">DEVICE</span>=ens33</span><br><span class="line"><span class="attr">ONBOOT</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attr">IPADDR</span>=<span class="number">192.168</span>.<span class="number">67.100</span>  // 改为与虚拟网卡相同的网段即可</span><br><span class="line"><span class="attr">NETMASK</span>=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line"><span class="attr">GATEWAY</span>=<span class="number">192.168</span>.<span class="number">67.1</span></span><br><span class="line"><span class="attr">DNS1</span>=<span class="number">192.168</span>.<span class="number">67.100</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="测试连通性"><a href="#测试连通性" class="headerlink" title="测试连通性"></a>测试连通性</h3><p><img src="/2021/10/27/Linux-DNS%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/02.jpg" alt="测试连通性01"></p><p><img src="/2021/10/27/Linux-DNS%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/03.jpg" alt="测试连通性02"></p><h3 id="挂载镜像光盘"><a href="#挂载镜像光盘" class="headerlink" title="挂载镜像光盘"></a>挂载镜像光盘</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@localhost ~]# mkdir <span class="regexp">/mnt/</span>cdrom   <span class="comment">// 创建相应的挂载目录</span></span><br><span class="line">[root@localhost ~]# mount <span class="regexp">/dev/</span>cdrom <span class="regexp">/mnt/</span>cdrom  <span class="comment">// 挂载点</span></span><br><span class="line">mount: <span class="regexp">/dev/</span>sr0 写保护，将以只读方式挂载</span><br><span class="line">[root@localhost ~]# </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="制作本地Yum源以及仓库"><a href="#制作本地Yum源以及仓库" class="headerlink" title="制作本地Yum源以及仓库"></a>制作本地Yum源以及仓库</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[<span class="meta">root@localhost ~</span>]<span class="meta"># cd /mnt/</span></span><br><span class="line">[<span class="meta">root@localhost mnt</span>]<span class="meta"># createrepo .   // 创建 yum 仓库</span></span><br><span class="line">Spawning worker <span class="number">0</span> <span class="keyword">with</span> <span class="number">2035</span> pkgs</span><br><span class="line">Spawning worker <span class="number">1</span> <span class="keyword">with</span> <span class="number">2035</span> pkgs</span><br><span class="line">Workers Finished</span><br><span class="line">Saving Primary metadata</span><br><span class="line">Saving file lists metadata</span><br><span class="line">Saving other metadata</span><br><span class="line">Generating sqlite DBs</span><br><span class="line">Sqlite DBs complete</span><br><span class="line">[<span class="meta">root@localhost mnt</span>]<span class="meta"># vim /etc/yum.repos.d/dvdiso.repo  // yum 仓库</span></span><br><span class="line"></span><br><span class="line">[<span class="meta">DVDISO</span>]</span><br><span class="line">name=DVD ISO</span><br><span class="line">baseurl=file:<span class="comment"><span class="doctag">///</span>mnt/   // yum 仓库的挂载点</span></span><br><span class="line">enabled=<span class="number">1</span>   <span class="comment">// 开启为 1 关闭为 0</span></span><br><span class="line">gpgcheck=<span class="number">0</span>  <span class="comment">// gpg检查 0为关闭</span></span><br><span class="line"></span><br><span class="line">[<span class="meta">root@localhost mnt</span>]<span class="meta"># yum clean all   // 清理缓存</span></span><br><span class="line">已加载插件：fastestmirror, langpacks</span><br><span class="line">正在清理软件源： DVDISO <span class="keyword">base</span> extras updates</span><br><span class="line">Cleaning up list of fastest mirrors</span><br><span class="line">[<span class="meta">root@localhost mnt</span>]<span class="meta"># yum list  // 列出所有repo软件包</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="安装DNS服务-即-bind-服务"><a href="#安装DNS服务-即-bind-服务" class="headerlink" title="安装DNS服务 即 bind 服务"></a>安装DNS服务 即 bind 服务</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 应用服务 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 应用服务 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
